# Gemsmith

## Description
Gemsmith is a game modification for GCFW.

Same as in the previous game, combining a gem with itself is not always the best way to upgrade it. Thanks to the work done at https://github.com/gemforce-team/gemforce, certain recipes - specific orders of duplicating\combining operations - have been discovered that result in a stronger gem than you'd get by U-upgrading, for the same cost. The catch is that it might take upwards of hundreds of operations to perform some of the better recipes.

Gemsmith allows you to skip performing these operations manually, instead it performs the combine on your gem automatically, spending mana accordingly. Unlike wGemCombiner this is done ingame, completely bypassing UI interactions and using no extra inventory slots. 

This is merely a time saving and QOL mod, exactly the same results can be achieved without it, albeit much slower and with more effort. Mana expenditure stats and achievements should be tracked appropriately, [submit an issue](https://github.com/gemforce-team/gemsmith/issues) if you find that something's off!


## Changelog
https://github.com/gemforce-team/gemsmith/blob/master/Changelog.txt


# Mod files
Gemsmith keeps all its files in the game's Local Store folder. It's located in `%AppData%\com.giab.games.gcfw.steam\Local Store\Gemsmith` and it's generated on first launch.

You can paste the above path in your windows explorer address bar to open that folder.

That folder is referred to as **Gemsmith folder** in this readme.


## Features
* A combine can be performed on a gem anywhere: in your inventory, in towers, lanterns, traps, amplifiers and in the enrage slot.

* The recipes are loaded from a `recipes` folder in your Gemsmith folder, you can have as many as you need and switch between them with hotkeys. These recipes are defined in a certain format, devised for [gemforce](https://github.com/gemforce-team/gemforce). An example recipe is generated on startup. Keep in mind that at the moment only "combine" recipes are supported - explanation below.

* Gemsmith also includes a configuration file that allows you to rebind hotkeys. This includes both Gemsmith's own functions and base game's hotkeys.

* Press Alt + `Perform combine` hotkey to **reload your config and recipes**.

* Gemsmith keeps a log of the last session in `%AppData%\com.giab.games.gcfw.steam\Local Store\Bezel Mod Loader\Bezel_log.log`. If you see a floating message saying that an error has occured, there might be more information in there.

* **Gemsmith automatically checks if an update is available by comparing the latest release tag with its own version.** You can opt-out by changing the appropriate setting in the configuration.


## Installing the mod
### Important warning! Starting with v1.8 for 1.0.20a Gemsmith depends on [Bezel Mod Loader](https://github.com/gemforce-team/BezelModLoader).

**To install the mod** grab a release (links below) for your game version. Drop `Gemsmith-x.x-for-y.y.y.swf` into the `Mods` folder in the game's folder (To navigate to the game's folder: rightclick the game in steam -> Manage -> Browse local files).

**If there is no `Mods` folder**, you need to first install Bezel Mod Loader (link above).


# Uninstalling the mod
Delete `Gemsmith-x.x-for-y.y.y.swf` from the `Mods` folder.


## Releases
[Link to the latest release](https://github.com/gemforce-team/gemsmith/releases/latest)

Release history: [Releases](https://github.com/gemforce-team/gemsmith/releases)


# Detailed features
## Recipes
Gemsmith supports recipes generated by [gemforce](https://github.com/gemforce-team/gemforce). Example below:
```
Best gem up to 8:

Value:	8
Growth:	0.488817
Grade:	3
Leech:	2.763415

Compressed combining scheme:
(((((2o+o)+o)+o)+o)+2o)

Equations:
(val = 1)	 0 = g1 o
(val = 2)	 1 =  0 +  0
(val = 3)	 2 =  1 +  0
(val = 4)	 3 =  2 +  0
(val = 5)	 4 =  3 +  0
(val = 6)	 5 =  4 +  0
(val = 8)	 6 =  5 +  1

lc0000008 - gemforce v2.0.0 - table_leech
```
Recipes for GCFW are published at https://github.com/gemforce-team/gem-recipes. Look around the repo for more recipes, but remember that **only combine recipes are supported.** Combine recipes have only one line containing a letter (o, b, r, y, k, m) in the beginning of the recipe. If there are more than one lines with letters, like
```
...(Extra lines omitted)
(val = 1)	 0 = g1 b
(val = 1)	 1 = g1 r
(val = 1)	 2 = g1 y
(val = 2)	 3 =  2 +  1
(val = 3)	 4 =  3 +  0
(val = 4)	 5 =  4 +  0
(val = 2)	 6 =  0 +  0
(val = 3)	 7 =  6 +  0
(val = 4)	 8 =  7 +  0
(val = 8)	 9 =  8 +  5
...(Extra lines omitted)
```
, that is not a combine recipe.
* Gemsmith releases now contain a `Gemforce recipes` archive with recipes from the repo above in it. Simply copy a file over to your `recipes` folder and reload recipes ingame to add it to your list.

Alternatively, you can write your own recipes. Keep in mind that Gemsmith expects that the result will be a single gem obtained on the last step.


## Hotkeys
By default Gemsmith's hotkeys are:
```
PageUp - previous recipe
PageDown - next recipe
Home - perform combine
```
Those can be changed in Gemsmith_config.json located in your Gemsmith folder. Buttons are represented by KeyCodes, here's a reference: [Keycode reference](https://github.com/gemforce-team/gemsmith/blob/master/Hotkey%20KeyCodes%20reference.txt)

After saving your changes, press Alt + `Perform combine` ingame to reload your recipes and config.


# Bug reports and feedback
Please submit an issue to [The issue tracker](https://github.com/gemforce-team/gemsmith/issues) if you encounter a bug and there isn't already an open issue about it.

You can find me on GemCraft's Discord server: https://discord.gg/ftyaJhx - Hellrage#5076


# Disclaimer
This is not an official modification.

GemCraft - Frostborn Wrath is developed and owned by [gameinabottle](http://gameinabottle.com/)


# Credits
Gemsmith is developed by Hellrage

**Special thanks to**

12345ieee for helping with testing, ideas, advice on using gemforce and combine logic

piotrj3 for help with decompilation and testing

wGemCombiner team for creating the predecessor

gemforce team for working out the combine recipes
